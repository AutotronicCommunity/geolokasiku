<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Debug Kamera & Lokasi</title>
  <style>
    body { margin: 0; font-family: sans-serif; }
    video { width: 100vw; height: 100vh; object-fit: cover; }
  </style>
</head>
<body>

<video id="video" autoplay playsinline></video>

<script>
  alert("Memulai akses kamera...");

  const video = document.getElementById('video');

  if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
    alert("Browser tidak mendukung getUserMedia.");
  } else {
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(stream => {
        alert("Kamera berhasil diakses!");
        video.srcObject = stream;
      })
      .catch(err => {
        alert("Gagal akses kamera: " + err.name);
        console.error("Kamera error:", err);
      });
  }

  alert("Memulai akses lokasi...");

  if (!navigator.geolocation) {
    alert("Geolocation tidak didukung di browser ini.");
  } else {
    navigator.geolocation.getCurrentPosition(
      pos => {
        alert("Lokasi OK: " + pos.coords.latitude + ", " + pos.coords.longitude);
      },
      err => {
        alert("Gagal akses lokasi: " + err.message);
        console.error("Geolocation error:", err);
      }
    );
  }
</script>

</body>
</html>
